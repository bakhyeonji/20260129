# 데일리 사주 운세 & 감정 다이어리 PRD

## 1. 상세 제품 설명

### 1.1 제품 개요

**데일리 사주 운세 & 감정 다이어리**는 1인 사용자를 위한 웹 기반 개인 운세 및 감정 기록 서비스입니다. 전통적인 사주팔자를 기반으로 매일의 운세를 확인하고, 하루를 한 장의 사진과 하나의 감정 아이콘으로 기록하는 초경량 일상 리추얼 앱입니다.

### 1.2 핵심 가치 제안

- **초간단 구조**: 회원가입, 로그인 없이 바로 사용 시작
- **개인화된 운세**: 사용자의 사주팔자 기반 맞춤 운세 제공
- **가벼운 기록**: 사진 1장 + 감정 아이콘 1개로 하루 요약
- **낮은 비용**: LLM 토큰 사용 최소화를 통한 운영비용 절감
- **의미 있는 회고**: 캘린더 뷰로 운세와 실제 하루를 비교하며 돌아보기

### 1.3 제품의 차별점

기존 운세 앱들은 광고가 많고 복잡하며, 다이어리 앱들은 너무 무겁습니다. 본 제품은:

- **1인 전용 설계**: 불필요한 계정 관리, 소셜 기능 완전 제거
- **토큰 효율성**: 같은 날짜의 운세를 데이터베이스에 캐싱하여 중복 생성 방지
- **최소 마찰**: 3탭 이내 모든 기능 접근 가능한 단순 UI
- **운세 + 기록 통합**: 예측(운세)과 실제(일기)를 한 화면에서 비교

### 1.4 사용 흐름 예시

1. **첫 방문**: 생년월일시 입력 → 사주 프로필 자동 계산 및 저장
2. **일상적 사용**:
   - 앱 열기 → 오늘의 운세 자동 표시 (캐시 활용)
   - 사진 1장 업로드 + 감정 아이콘 선택
   - 저장 후 종료 (30초 이내 완료)
3. **회고**: 캘린더 뷰에서 과거 날짜 클릭 → 그날의 운세 + 사진 + 감정 확인

---

## 2. 참고 서비스 및 벤치마크

### 2.1 운세/사주 카테고리

**참고 서비스**: 네이버 운세, 만세력 앱, Co-Star (서양 점성술)

**벤치마킹 포인트**:
- **네이버 운세**: 재물운, 애정운, 건강운 등 카테고리별 구분이 명확하고 읽기 쉬움. 하지만 광고가 많고 개인화 부족.
- **만세력 앱**: 사주팔자 계산의 정확성과 오행 기반 조언 제공. UI가 복잡하고 전문가 수준.
- **Co-Star**: 미니멀한 UI, 매일 푸시 알림으로 습관 형성 유도. 소셜 기능이 강하지만 본 제품은 1인 전용이므로 제외.

**차별화 전략**:
- 사주팔자 계산은 정확하되, 해석은 가볍고 친근하게
- 카테고리는 3~4개로 제한 (재물/애정/건강)
- 행운의 색상, 숫자 등 실용적 팁 추가

### 2.2 감정 기록/다이어리 카테고리

**참고 서비스**: Daylio, 1초 다이어리, Momento

**벤치마킹 포인트**:
- **Daylio**: 텍스트 없이 아이콘과 활동 태그만으로 기록. 통계 기능 강력. 하지만 유료 기능이 많음.
- **1초 다이어리**: 사진 1장 + 짧은 텍스트. 캘린더 뷰가 직관적. 운세 기능은 없음.
- **Momento**: 다양한 소스(SNS, 사진 등) 통합. 너무 복잡하고 무거움.

**차별화 전략**:
- 감정 아이콘은 정확히 5개로 제한 (매우 좋음/좋음/보통/나쁨/매우 나쁨)
- 사진 1장만 허용하여 선택 피로 제거
- 텍스트 입력란 없음 → 기록 부담 최소화

### 2.3 UI/UX 디자인 참고

**참고 서비스**: Notion Calendar, Google Calendar (월간 뷰)

**벤치마킹 포인트**:
- 캘린더 UI는 한눈에 상태 파악 가능하도록 설계
- 날짜별 인디케이터: 운세 생성 여부(별 아이콘), 일기 기록 여부(사진 썸네일 또는 감정 아이콘)

**Note**: 참고 서비스들은 각각 운세 또는 다이어리 한 가지 기능에 집중하지만, 본 제품은 **운세와 감정 기록을 하나의 일상 리추얼로 통합**한다는 점에서 독자적인 포지셔닝을 갖습니다.

---

## 3. 핵심 기능 및 상세 명세

### 3.1 초기 설정 (사주 프로필 생성)

**기능 설명**:
- 첫 방문 시 또는 설정 화면에서 생년월일시 입력
- 시스템이 사주팔자 자동 계산 후 Supabase에 저장

**상세 요구사항**:
- **입력 필드**:
  - 생년월일 (YYYY-MM-DD)
  - 출생 시간 (HH:MM, 24시간 형식)
  - 선택적: 양력/음력 구분 (v1에서는 양력만 지원, 음력 변환은 추후)
- **계산 로직**:
  - 사주팔자 계산은 규칙 기반 알고리즘 또는 외부 라이브러리 활용
  - 오행(금/목/수/화/토), 천간, 지지 등 핵심 요소 도출
  - **LLM 사용 최소화**: 계산 자체는 규칙 기반, 해석만 LLM 활용
- **저장 구조** (추상적 설명):
  - 사주 프로필 테이블: `user_id` (고정값 '1'), `birth_date`, `birth_time`, `saju_data` (JSON)
  - `saju_data` 예시: `{"천간": "갑", "지지": "자", "오행": "목", ...}`
- **수정 가능성**:
  - 설정 화면에서 생년월일시 재입력 가능
  - 수정 시 경고 메시지: "운세 내용이 변경될 수 있습니다"

**UI 샘플 컨셉**:
- 중앙에 큰 입력 폼, 부드러운 그라데이션 배경
- "당신의 사주를 알려주세요" 타이틀
- 입력 완료 후 "프로필 저장" 버튼 → 로딩 애니메이션 → "완료!" 메시지

### 3.2 오늘의 운세 생성 및 표시

**기능 설명**:
- 매일 자동으로 사용자의 사주 프로필 + 오늘 날짜 기반 운세 생성
- **중요**: 같은 날짜에 대해 운세는 1회만 생성, 이후 캐시 사용

**상세 요구사항**:
- **생성 트리거**:
  - 사용자가 앱을 열었을 때, 오늘 날짜의 운세가 DB에 없으면 생성
  - 있으면 DB에서 불러오기 (LLM 호출 없음)
- **운세 카테고리**:
  - **재물운**: 금전, 투자, 소비 관련 조언
  - **연애운**: 인간관계, 사랑, 만남 관련
  - **건강운**: 컨디션, 주의사항
  - (선택적) 일/커리어운
- **추가 요소**:
  - **행운의 색상**: 사용자의 오행 기반 (예: 목→초록, 화→빨강)
  - **행운의 숫자**: 1~99 중 하나 (규칙 기반 또는 랜덤)
  - **구체적 팁**: "오전 10시~12시 중요한 결정을 내리기 좋은 시간", "저녁 약속은 피하세요" 등
- **LLM 프롬프트 구조**:
  - 입력: 사주 프로필(JSON), 오늘 날짜, 요구 카테고리
  - 출력: 각 카테고리별 2~3문장, 행운 색상/숫자, 팁 1개
  - 톤: 친근하고 긍정적, 과도한 불안 조장 금지
- **저장 구조**:
  - 운세 테이블: `date`, `fortune_text` (JSON), `lucky_color`, `lucky_number`, `created_at`

**UI 샘플 컨셉**:
- 상단에 날짜와 "오늘의 운세" 타이틀
- 카드 형식으로 각 카테고리 표시 (아이콘 + 텍스트)
- 하단에 행운의 색상(색상 칩), 행운의 숫자(큰 폰트)
- 팁은 별도 박스로 강조

### 3.3 일기 기록 (사진 + 감정)

**기능 설명**:
- 하루에 사진 1장과 감정 아이콘 1개 선택하여 저장

**상세 요구사항**:
- **사진 업로드**:
  - 허용 포맷: JPEG, PNG, HEIC (모바일)
  - 최대 파일 크기: 5MB
  - Supabase Storage에 저장, URL을 DB에 기록
  - 업로드 시 리사이징 권장 (클라이언트 또는 서버)
- **감정 아이콘**:
  - 5개 고정: 😄 (매우 좋음), 🙂 (좋음), 😐 (보통), 😞 (나쁨), 😢 (매우 나쁨)
  - 하나만 선택 가능
- **저장 구조**:
  - 일기 테이블: `date`, `photo_url`, `emotion` (정수 1~5), `created_at`
- **수정 및 삭제**:
  - 같은 날짜의 일기는 덮어쓰기 가능
  - 삭제 기능 제공 (사진도 Storage에서 삭제)

**UI 샘플 컨셉**:
- 중앙에 "오늘 하루는 어땠나요?" 타이틀
- 사진 업로드 영역: 점선 테두리 박스, 클릭 또는 드래그 앤 드롭
- 하단에 5개 감정 아이콘 나란히 배치, 선택 시 확대 효과
- "저장" 버튼 (사진 또는 감정 중 하나라도 입력 시 활성화)

### 3.4 캘린더 뷰 (히스토리)

**기능 설명**:
- 월간 캘린더 형태로 과거 운세 및 일기 기록 확인

**상세 요구사항**:
- **캘린더 UI**:
  - 기본: 월간 뷰 (주간 뷰는 nice-to-have)
  - 각 날짜 셀에 인디케이터:
    - 운세 있음: ⭐ 또는 작은 점
    - 일기 있음: 감정 아이콘 미니 버전 또는 사진 썸네일
- **날짜 클릭 시**:
  - 모달 또는 새 화면으로 해당 날짜의 상세 정보 표시
  - 운세 전문 + 사진 (원본 크기) + 감정 아이콘
- **네비게이션**:
  - 월 이동 버튼 (이전/다음)
  - 오늘 날짜로 돌아가기 버튼
- **성능**:
  - 한 번에 1개월 데이터만 로드
  - 스크롤 또는 월 변경 시 추가 데이터 fetch

**UI 샘플 컨셉**:
- 상단에 "YYYY년 MM월" 타이틀 + 좌우 화살표
- 7x5 그리드 (일~토)
- 날짜 셀: 미니멀한 디자인, 상태 인디케이터만 표시
- 모달: 반투명 배경, 중앙에 카드 형태로 상세 정보

### 3.5 설정 화면

**기능 설명**:
- 사주 프로필 수정, 데이터 초기화 등 관리 기능

**상세 요구사항**:
- **생년월일시 수정**:
  - 기존 초기 설정 폼 재사용
  - 수정 시 경고 메시지 필수
- **데이터 초기화**:
  - "모든 데이터 삭제" 버튼
  - 확인 대화상자 2단계 ("정말로 삭제하시겠습니까?" → "복구할 수 없습니다. 계속하시겠습니까?")
  - 삭제 대상: Supabase DB의 모든 레코드 + Storage의 모든 사진
- **기타 옵션** (nice-to-have):
  - 알림 설정 (브라우저 알림 허용 여부)
  - 테마 (라이트/다크 모드)

**UI 샘플 컨셉**:
- 리스트 형태의 설정 항목
- 위험한 작업(데이터 삭제)은 빨간색으로 강조
- 각 항목 클릭 시 해당 기능 실행 또는 하위 화면 진입

---

## 4. 제안 추가 기능 (Nice-to-Have)

### 4.1 주간/월간 요약

**설명**: 최근 7일 또는 30일간의 운세와 감정 기록을 요약

**구현 방향**:
- 자동 생성이 아닌, 사용자가 "요약 생성" 버튼을 눌렀을 때만 LLM 호출
- 입력: 기간 내 모든 운세 텍스트 + 감정 데이터
- 출력: "이번 주는 재물운이 좋았지만 건강에 주의가 필요했어요. 전반적으로 긍정적인 감정이 많았네요!" 등
- 생성된 요약도 DB에 캐싱

### 4.2 간단한 통계

**설명**: 감정 분포, 운세 정확도 등 시각화

**구현 방향**:
- 감정별 카운트 (예: 😄 20일, 🙂 5일, ...)
- 막대 그래프 또는 파이 차트
- LLM 없이 클라이언트에서 계산 가능

### 4.3 운세 정확도 평가

**설명**: 하루가 끝난 후 "오늘 운세가 맞았나요?" 평가

**구현 방향**:
- 각 날짜에 대해 👍/👎 또는 별점 (1~5)
- 일기 저장 화면에 선택적으로 추가
- 추후 데이터 분석에 활용 가능 (예: 어떤 카테고리가 정확했는지)

### 4.4 알림 기능

**설명**: 매일 정해진 시간에 "오늘의 운세를 확인하세요" 알림

**구현 방향**:
- 브라우저 푸시 알림 (Web Push API)
- 설정에서 알림 시간 지정 (예: 오전 9시)
- 백엔드에서 스케줄링 필요 (Supabase Edge Functions 또는 cron job)

### 4.5 로컬 퍼스트 옵션

**설명**: 자주 사용하는 데이터를 localStorage에 캐싱

**구현 방향**:
- 오늘의 운세, 최근 7일 일기 등을 브라우저에 저장
- 오프라인 상태에서도 일부 기능 사용 가능
- 온라인 복귀 시 Supabase와 동기화

---

## 5. 사용자 페르소나 및 시나리오

### 5.1 주요 페르소나

**이름**: 김사주 (가명)

**기본 정보**:
- 나이: 28세
- 직업: 스타트업 마케터
- 관심사: 사주, 타로, MBTI 등 성격/운세 콘텐츠
- 기술 친숙도: 중상 (웹/앱 사용 능숙)

**니즈 및 동기**:
- 아침에 가볍게 오늘의 운세를 확인하며 하루를 시작하고 싶음
- 긴 일기는 부담스럽지만, 하루를 간단히 기록하고 싶음
- SNS 공유 부담 없이 나만의 공간에서 조용히 기록하고 싶음
- 나중에 돌아보며 "그때 그 운세가 맞았네/안 맞았네" 재미를 느끼고 싶음

**페인 포인트**:
- 기존 운세 앱: 광고 많고, 유료 결제 유도, 운세가 너무 일반적
- 기존 일기 앱: 항목이 많아 귀찮고, 매일 쓰기 어려움
- 별도의 회원가입이나 로그인 관리가 번거로움

**기대 경험**:
- 앱을 열면 바로 오늘의 운세가 보임 (로딩 1초 이내)
- 사진 1장 + 감정 선택으로 30초 안에 기록 완료
- 캘린더를 훑어보며 한 달을 회고하는 즐거움

### 5.2 사용 시나리오

#### 시나리오 1: 첫 사용 (온보딩)

1. 김사주가 친구에게 공유받은 URL을 클릭
2. "당신의 사주를 알려주세요" 화면 등장
3. 생년월일 (1996-03-15), 출생 시간 (09:30) 입력
4. "프로필 생성 중..." 로딩 → "완료!" 메시지
5. 자동으로 오늘의 운세 화면으로 이동
6. 첫 운세를 읽고 "오 재미있네" 반응

#### 시나리오 2: 일상적 사용 (아침)

1. 출근 준비하며 스마트폰으로 앱 접속
2. 오늘의 운세 자동 표시 (캐시 활용, 즉시 로딩)
3. 재물운, 연애운, 건강운 순서로 읽기 (약 1분)
4. "행운의 색상: 파란색" 확인 → 파란색 셔츠 선택
5. 앱 종료

#### 시나리오 3: 일상적 사용 (저녁)

1. 퇴근 후 집에서 저녁 식사 사진 촬영
2. 앱 접속 → "오늘 하루는 어땠나요?" 화면
3. 사진 업로드 + 감정 아이콘 🙂 (좋음) 선택
4. "저장" 버튼 클릭 → "기록 완료!" 메시지
5. 앱 종료 (총 소요 시간 30초)

#### 시나리오 4: 회고 (주말)

1. 일요일 오후, 여유 있게 캘린더 뷰 접속
2. 이번 주 월~금 날짜들 확인
3. 월요일 클릭 → 운세 + 사진 + 😄 확인
4. "그날 연애운이 좋다고 했는데 실제로 소개팅 잘 됐었지!" 회상
5. 다른 날짜들도 클릭하며 한 주 돌아보기
6. 만족스러운 미소 지으며 앱 종료

#### 시나리오 5: 수정 및 관리

1. 출생 시간을 잘못 입력했다는 것을 깨달음
2. 설정 화면 접속 → "생년월일시 수정"
3. 출생 시간을 09:30 → 10:00 수정
4. "운세가 변경될 수 있습니다" 경고 확인 후 저장
5. 오늘의 운세 화면으로 돌아가 새로운 운세 확인

---

## 6. 기술 스택 권장사항

### 6.1 프론트엔드

**권장 스택**: Next.js (React 기반)

**선정 이유**:
- **SSR/SSG 지원**: 초기 로딩 속도 최적화, SEO 불필요하지만 성능상 유리
- **파일 기반 라우팅**: 페이지 구조 단순화 (/today, /calendar, /settings)
- **Vercel 배포 최적화**: 무료 호스팅, HTTPS 자동, 빠른 CDN
- **React 생태계**: 풍부한 라이브러리 (달력 UI, 이미지 업로드 등)

**핵심 라이브러리**:
- **UI 프레임워크**: Tailwind CSS (빠른 스타일링, 모바일 반응형 쉬움)
- **캘린더 컴포넌트**: react-calendar 또는 date-fns + 커스텀 구현
- **이미지 업로드**: react-dropzone 또는 네이티브 input[type="file"]
- **상태 관리**: React Context API 또는 Zustand (단순한 전역 상태)
- **데이터 fetching**: Supabase JS Client (내장 기능 활용)

**폴더 구조 예시**:
```
/app
  /page.js (메인 - 오늘의 운세)
  /calendar/page.js
  /settings/page.js
/components
  /FortuneCard.js
  /DiaryInput.js
  /CalendarView.js
/lib
  /supabase.js (Supabase 클라이언트 초기화)
  /saju.js (사주 계산 로직)
/utils
  /llm.js (LLM API 호출 함수)
```

### 6.2 백엔드 (Supabase)

**구성 요소**:

1. **PostgreSQL 데이터베이스**
   - 테이블: `saju_profile`, `daily_fortunes`, `diary_entries`
   - Row Level Security (RLS) 비활성화 또는 단일 사용자 ID로 제한

2. **Supabase Storage**
   - 버킷: `diary-photos`
   - 파일명 규칙: `YYYY-MM-DD-{timestamp}.jpg`
   - 공개 액세스 비활성화 (Signed URL 사용)

3. **Supabase Edge Functions** (선택적)
   - 용도: 운세 생성 로직을 서버리스 함수로 분리
   - 장점: API 키 노출 방지, 토큰 사용량 모니터링 용이
   - 단점: 초기 복잡도 증가 → v1에서는 클라이언트에서 직접 LLM 호출 권장

**데이터 스키마 개요** (추상적 수준):

- **saju_profile**: 사용자 사주 정보 저장
  - `id`, `birth_date`, `birth_time`, `saju_data` (JSON)
  
- **daily_fortunes**: 날짜별 운세 캐싱
  - `date`, `fortune_text` (JSON: 카테고리별), `lucky_color`, `lucky_number`, `tips`
  
- **diary_entries**: 일기 기록
  - `date`, `photo_url`, `emotion` (1~5)

### 6.3 LLM 통합

**권장 LLM**: Anthropic Claude (Claude 3.5 Sonnet)

**선정 이유**:
- 한국어 자연어 생성 품질 우수
- 긴 컨텍스트 지원 (사주 프로필 + 지침 전달에 유리)
- 토큰당 비용 합리적
- API 사용 간편 (REST API)

**사용 전략**:
- **운세 생성**: 하루 1회, 결과 DB 캐싱
- **프롬프트 최적화**:
  - 시스템 프롬프트에 사주 해석 가이드 고정
  - 사용자 프롬프트에 날짜 + 사주 데이터만 전달
  - 출력 형식 JSON 지정하여 파싱 간소화
- **토큰 절약 팁**:
  - 사주 데이터를 간결한 JSON으로 정리
  - 불필요한 설명 제거, 핵심만 요청
  - 응답 길이 제한 (예: "각 카테고리당 2문장 이내")

**대체 옵션**: OpenAI GPT-4o mini (비용 절감 우선 시)

### 6.4 배포 및 호스팅

**프론트엔드**: Vercel

**선정 이유**:
- Next.js 네이티브 지원
- 무료 플랜으로 충분 (1인 사용)
- 자동 HTTPS, 글로벌 CDN
- GitHub 연동 자동 배포

**백엔드**: Supabase (매니지드)

**선정 이유**:
- 무료 티어로 시작 (500MB DB, 1GB Storage)
- 확장 용이 (유료 전환 시 스케일 자동)
- 백업, 보안 패치 자동

**도메인**: 초기에는 Vercel 기본 도메인 사용, 필요 시 커스텀 도메인 연결

### 6.5 모니터링 및 분석

**기본 모니터링**:
- Supabase Dashboard: DB 쿼리 성능, Storage 사용량
- Vercel Analytics: 페이지 로딩 속도, 방문 횟수

**LLM 토큰 사용 추적**:
- LLM API 호출 시 응답 헤더에서 토큰 수 추출
- 별도 테이블에 로깅 (선택적)
- 월별 비용 예측에 활용

**권장하지 않음**: Google Analytics 등 외부 추적 도구 (1인 사용이므로 불필요)

### 6.6 개발 도구 및 워크플로우

**코드 에디터**: VS Code + Claude Code CLI

**버전 관리**: Git + GitHub

**개발 워크플로우**:
1. 로컬 환경에서 Next.js 개발 서버 실행
2. Supabase 로컬 개발 환경 (선택적, 프로덕션 DB 직접 사용도 가능)
3. 기능 완성 후 GitHub에 푸시
4. Vercel 자동 배포

**테스트 전략**:
- 단위 테스트: 사주 계산 로직, 날짜 처리 함수
- 통합 테스트: 운세 생성 → DB 저장 → 조회 플로우
- E2E 테스트: 생략 가능 (1인 사용, 빠른 수동 테스트로 대체)

**보안 관리**:
- `.env.local` 파일에 Supabase 키, LLM API 키 저장
- `.gitignore`에 `.env.local` 추가
- Vercel 환경 변수에 프로덕션 키 설정

---

## 7. 구현 우선순위 및 로드맵

### Phase 1: MVP (2~3주)

**목표**: 핵심 기능만으로 동작하는 최소 버전

**포함 기능**:
- [ ] 초기 설정 (생년월일시 입력)
- [ ] 사주 프로필 계산 및 저장
- [ ] 오늘의 운세 생성 (LLM) 및 캐싱
- [ ] 일기 기록 (사진 + 감정)
- [ ] 캘린더 뷰 (월간, 기본)
- [ ] 설정 (프로필 수정, 데이터 삭제)

**제외 기능**:
- 주간/월간 요약
- 통계
- 알림
- 로컬 캐싱

### Phase 2: 개선 (1~2주)

**목표**: 사용성 향상 및 피드백 반영

**포함 기능**:
- [ ] UI/UX 개선 (애니메이션, 로딩 상태)
- [ ] 모바일 반응형 최적화
- [ ] 운세 정확도 평가 기능
- [ ] 간단한 감정 통계

### Phase 3: 확장 (선택적)

**목표**: Nice-to-have 기능 추가

**포함 기능**:
- [ ] 주간/월간 요약
- [ ] 브라우저 알림
- [ ] 로컬 퍼스트 캐싱
- [ ] 다크 모드

---

## 8. 성공 지표 및 평가 방법

### 8.1 정량적 지표

- **일일 활성**: 한 달 중 앱을 연 날짜 수 (목표: 20일 이상/월)
- **일기 기록률**: 운세를 본 날 중 일기도 기록한 비율 (목표: 70% 이상)
- **토큰 절약률**: 캐시 재사용 비율 (목표: 95% 이상, 즉 같은 날 재방문 시 LLM 호출 없음)
- **평균 체류 시간**: 1회 방문당 1~3분 (너무 짧으면 관심 없음, 너무 길면 복잡함)

### 8.2 정성적 지표

- **사용 만족도**: 본인이 얼마나 "재미있고 가볍다"고 느끼는지 (주관적 평가)
- **습관 형성**: 30일 연속 사용 도전 성공 여부
- **회고 가치**: 과거 날짜를 돌아볼 때 의미 있는 인사이트를 얻는지

### 8.3 평가 방법

- 매주 토요일 자가 점검: "이번 주 며칠 썼나?", "불편했던 점은?"
- 1개월 후 회고: "계속 사용하고 싶은가?", "친구에게 추천하고 싶은가?"

---

## 9. 리스크 및 완화 방안

### 9.1 기술적 리스크

**리스크**: LLM API 비용 급증
- **완화**: 캐싱 철저, 일일 생성 제한, 토큰 사용량 모니터링 대시보드

**리스크**: Supabase 무료 티어 초과
- **완화**: Storage 용량 모니터링, 사진 리사이징 강제, 필요 시 유료 전환

**리스크**: 사주 계산 정확성 논란
- **완화**: 기존 만세력 라이브러리 활용, 면책 문구 ("참고용으로만 사용")

### 9.2 사용자 경험 리스크

**리스크**: 1인 사용자가 흥미를 잃고 방치
- **완화**: 알림 기능 추가, 재미 요소 강화 (예: 행운의 색상/숫자 시각화)

**리스크**: 모바일 웹 사용 불편
- **완화**: 모바일 최적화 우선, PWA 고려 (선택적)

### 9.3 데이터 보안 리스크

**리스크**: 생년월일시 등 민감 정보 유출
- **완화**: HTTPS 강제, Supabase RLS 설정, 환경 변수 관리 철저

---

## 10. 추가 고려사항

### 10.1 접근성

- 시각 장애인을 위한 스크린 리더 지원 (ARIA 레이블)
- 색맹 사용자를 위한 색상 외 대체 표현 (행운의 색상 텍스트 병기)

### 10.2 국제화 (i18n)

- v1은 한국어 전용
- 향후 영어 지원 시 운세 텍스트 번역 필요 (LLM 활용 가능)

### 10.3 법적 고려사항

- 면책 조항: "본 서비스의 운세는 오락 목적이며, 실제 의사 결정에 영향을 주지 않도록 주의하세요."
- 개인정보처리방침: 1인 사용이지만, 생년월일시 수집 사실 명시

### 10.4 향후 확장 가능성

- **멀티 유저**: 인증 레이어 추가, user_id를 실제 사용자별로 분리
- **소셜 기능**: 친구와 운세 공유, 비교 (v1에서는 제외)
- **프리미엄 기능**: 심화 해석, 월간 맞춤 리포트 (유료화 옵션)

---

## 부록: UI/UX 샘플 컨셉 상세

### A. 메인 화면 (오늘의 운세)

**레이아웃**:
- 상단: 날짜 (YYYY년 MM월 DD일 요일), "오늘의 운세" 타이틀
- 중앙: 3개 카드 (재물운/연애운/건강운)
  - 각 카드: 아이콘 + 카테고리명 + 2~3문장 텍스트
- 하단: 행운의 색상 (색상 칩 + 이름), 행운의 숫자 (큰 폰트)
- 별도 박스: 오늘의 팁 (별 아이콘 + 텍스트)
- 하단 네비게이션: "일기 쓰기", "캘린더", "설정" 버튼

**색상 팔레트 예시**:
- 배경: 연한 그라데이션 (하늘색 → 보라색)
- 카드: 흰색 반투명, 그림자 효과
- 강조색: 금색 (행운의 요소)

### B. 일기 작성 화면

**레이아웃**:
- 상단: "오늘 하루는 어땠나요?" 타이틀
- 중앙 상단: 사진 업로드 영역 (점선 테두리 박스, 높이 40%)
  - 업로드 전: 카메라 아이콘 + "사진 추가"
  - 업로드 후: 이미지 미리보기 + 변경 버튼
- 중앙 하단: 감정 아이콘 5개 (가로 나열, 균등 간격)
  - 선택 시: 해당 아이콘 확대 + 색상 변화
- 하단: "저장" 버튼 (사진 또는 감정 선택 시 활성화)

**인터랙션**:
- 사진 클릭 → 파일 선택 대화상자
- 감정 클릭 → 즉시 선택 상태 변경
- 저장 완료 → "기록되었습니다!" 토스트 메시지 + 메인 화면으로 이동

### C. 캘린더 화면

**레이아웃**:
- 상단: "YYYY년 MM월" + 좌우 화살표 + "오늘" 버튼
- 중앙: 7x5 그리드 (일~토)
  - 각 셀: 날짜 숫자 + 인디케이터
    - 운세 있음: 작은 별 (⭐)
    - 일기 있음: 해당 날짜의 감정 아이콘 미니 버전
- 하단: 오늘 날짜 강조 (테두리 또는 배경색)

**인터랙션**:
- 날짜 클릭 → 모달 팝업
  - 모달 내용: 날짜 + 운세 전문 + 사진 (원본) + 감정 아이콘
  - 닫기 버튼: X 아이콘 또는 모달 외부 클릭

**시각적 예시**:
- 과거 날짜: 약간 흐릿한 회색
- 오늘: 진한 테두리
- 미래 날짜: 비활성화 (클릭 불가)